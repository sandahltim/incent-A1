{% extends "base.html" %}
{% import "macros.html" as macros %}
{% block content %}
<h1>Quick Point Adjustment</h1>
<form id="quickAdjustForm" method="POST" action="/admin/quick_adjust_points">
    {{ macros.render_field(field=FormField('username'), label_text='Admin Username', class='form-control', required=True) }}
    {{ macros.render_field(field=FormField('password'), label_text='Admin Password', class='form-control', type='password', required=True) }}
    {{ macros.render_select_field(field=FormField('employee_id'), label_text='Employee', options=[(emp.employee_id, emp.employee_id + ' - ' + emp.name + ' (' + emp.initials + ')') for emp in employees], id='quick_adjust_employee_id') }}
    {{ macros.render_field(field=FormField('points'), label_text='Points', class='form-control', type='number', required=True) }}
    {{ macros.render_field(field=FormField('reason'), label_text='Reason', class='form-control', required=True) }}
    <div>Select a rule or enter a custom reason:</div>
    <ul>
        {% for rule in rules %}
            <li><a class="rule-link" href="#" data-points="{{ rule.points }}" data-reason="{{ rule.description }}">{{ rule.description }} ({{ rule.points }})</a></li>
        {% endfor %}
    </ul>
    {{ macros.render_field(field=FormField('notes'), label_text='Notes (optional)', class='form-control', required=False) }}
    {{ macros.render_submit_button('Adjust Points') }}
</form>
<a class="btn btn-secondary" href="/">Back</a>
{% endblock %}